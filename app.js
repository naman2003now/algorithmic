let stage1 = {
    0: ['#', '9', '2', 'J', 'z', '^', 'v', '~', '@', '4', 'U', '$', '8', 'p', 'X', '0', 'i', '=', 'C', 'H', 'N', 'j', 'n', 'R', '5', 'G', 'r', 'u', 'a', 'b', '+', 'V', 'x', 'Y', '-', 'c', '_', 'Z', '&', '.', 'd', 'w', 'B', "'", '*', 'y', 'S', 's', ',', 'O', 'K', ')', '?', '1', '"', 'D', 'I', 'g', 'W', 'h', '(', '!', 'o', 'L', 'A', 'l', 'T', 'e', 't', '6', 'Q', 'F', 'f', 'P', 'E', '3', 'q', 'M', 'k', '7', '%', 'm'],
    1: ['G', 'Z', 'X', "'", '0', '5', '6', '%', '=', 'J', 'g', 'C', '?', '!', '4', 'a', '-', 'F', '"', '(', 'K', 'U', 'T', 'o', 'n', 'W', '2', 'u', 'i', 'b', '_', 'L', 'x', '1', 'j', 'm', ')', '@', 'h', 'y', 'S', 'k', '.', 'V', 'N', '3', 'z', 'c', 'R', '8', 't', 'l', '&', '$', 'p', 'H', 'I', '*', '7', '#', 'P', '9', '^', 'M', 'w', 'q', 'D', 'v', 'O', '~', 'd', 'Q', 'Y', 'A', 'B', 'r', ',', 'f', 'e', 'E', 's', '+'],
    2: ["'", 'p', 'W', 'j', 'T', 'Y', '2', '5', '^', '9', 'Z', 'E', 'Q', '3', '6', 'e', '"', 'B', '@', '&', '?', 'F', 'G', '-', 'n', '0', ',', '_', 't', 'k', 'z', '#', 'N', 'b', 'd', '4', '~', '8', '=', '*', 'M', ')', 'J', 'l', 'S', 'q', '(', 's', 'u', 'K', '!', '$', 'w', 'g', '+', 'P', '.', 'L', 'I', 'V', 'X', '7', 'H', 'h', 'x', 'i', 'C', 'R', 'c', 'f', '1', 'U', 'O', 'D', 'a', '%', 'y', 'o', 'v', 'A', 'm', 'r'],
    3: ['e', 'W', 't', 'B', 'V', ')', '5', 'j', '7', '9', '6', 'n', 'a', 'g', 'x', 'J', 'S', 'U', '3', '_', '1', '=', 'D', 'F', 'T', 'h', '~', 'Y', '^', 'G', 'N', 'P', '*', 'd', '8', 'o', 'v', 'H', 'r', 'i', '&', '4', '0', '%', 'w', 'y', '@', 'b', 'R', 'O', 'X', '.', 'Q', 'A', "'", 'E', '-', 'L', 'Z', 'm', 'I', 'C', '#', 'p', '+', '2', 'z', '"', 'u', 'c', 'l', 's', '(', 'K', 'q', 'k', '?', '!', '$', 'M', 'f', ','],
    4: ['C', '3', 'F', 'L', 'V', '*', '6', '(', 'G', 'b', "'", '"', 'x', 'm', 'j', 's', '_', 'Y', '%', 'u', '8', 'w', 'c', 'h', 'o', 'B', '5', 'R', 'a', 'W', 'S', 'M', 'U', '?', 'd', '.', 'E', 'k', '&', 'P', '9', ')', 't', 'g', '#', 'N', 'I', 'v', 'i', '-', 'J', '=', 'H', '!', 'Z', 'l', '+', '7', 'p', 'z', 'T', '1', 'O', ',', 'D', '2', '@', 'K', 'X', 'A', 'f', 'r', 'y', 'q', '^', 'Q', '0', 'e', '4', '$', 'n', '~'],
    5: ['-', '~', 'g', ')', 'S', ',', '#', 'U', 's', 'y', '5', '.', 'E', 'r', 'i', 'B', '6', '=', 'c', '&', 'n', 'o', 'l', '1', 'X', 'A', 'j', 'z', 'v', 'K', 'R', 'W', 'F', '4', 'P', 'a', '9', 'u', '*', 'm', '^', 'p', 'f', 'V', '3', 'O', '2', 'H', 'Z', 'q', 'k', '%', 't', '+', 'J', 'h', '$', '"', 'I', '7', 'd', 'L', '8', 'Q', '!', 'T', 'C', '?', 'x', 'e', '_', 'w', '(', 'G', 'D', 'N', 'M', '@', 'Y', 'b', "'", '0'],
    6: [',', '3', 'c', 'w', '$', '2', ')', 'g', '@', 'W', 'q', '#', '6', '+', '"', '-', 'f', 'z', 'R', 'a', '*', 'p', '_', '8', '7', 'P', 'm', 'F', 'V', 's', '(', 'u', 'e', '.', '~', '^', '%', 'G', 'X', 'n', '9', 'y', 'K', 'D', '0', 'E', 'Z', '1', '?', 'Y', 'b', 'A', 'Q', 'T', 'I', 'N', 'S', 'j', 'd', 'h', "'", '5', 'r', 'l', '&', '4', 'v', 't', 'J', 'B', 'i', 'x', 'L', 'o', 'U', 'H', '!', '=', 'O', 'M', 'k', 'C'],
    7: ['l', 'm', '~', '8', 'O', 'o', '0', 'U', 'a', 'w', '9', '_', 't', 'd', ',', 'k', 'Z', 'u', 'r', 'H', '3', '(', 'q', "'", 'X', '7', '@', '#', '?', 'e', 'z', '5', ')', '-', 'x', '"', 'n', 'W', '&', '^', 'L', 'P', 'C', 'p', '1', '6', 'h', 'I', 'R', 'E', '$', 'A', 'F', 'i', 'y', '+', '%', 'N', 'c', '=', 'f', '*', 'Q', '.', 'V', '2', 'b', 'K', 's', 'T', '4', '!', 'D', 'j', 'M', 'v', 'B', 'Y', 'S', 'g', 'G', 'J'],
    8: ['d', '#', 'k', 'E', '3', '.', '@', "'", 's', 'm', 'p', 'U', 'c', '=', 'e', '!', 'h', '"', 'Q', 'v', 'I', 'X', ',', 'g', '6', '$', 'O', '(', 'H', 'T', '+', 'M', 'u', 'F', '4', 't', 'J', '7', 'o', '2', 'q', '%', 'S', 'V', '5', 'N', 'l', '&', 'f', 'L', '*', 'Z', 'Y', '^', 'n', 'G', '8', 'K', 'z', 'r', '-', 'i', 'W', 'a', 'x', '~', ')', '1', 'y', 'b', 'w', 'B', 'D', '?', 'j', '9', 'P', '0', 'A', 'R', '_', 'C'],
    9: ['l', '.', '7', '-', 'G', 'P', 'F', 'o', 'M', 'z', '"', ')', '%', '4', 'y', 'D', "'", '^', '5', '_', 'Q', 'b', 's', 't', 'I', '+', '3', '9', '?', '~', 'r', '2', 'w', ',', 'X', '(', 'E', 'Z', '#', 'd', 'B', '$', 'J', 'U', 'e', 'n', 'm', '!', 'k', '@', 'p', 'q', '0', 'c', 'H', 'K', 'O', 'W', 'v', '8', 'f', 'A', 'h', 'Y', 'L', '&', 'u', '*', '6', 'S', 'g', '1', 'V', 'x', 'a', '=', 'C', 'i', 'N', 'R', 'T', 'j'],
}

let pos = ['"', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', ' ', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', "'", '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ',', '.', '?', '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '-', '+', '=']


function encryptStage1(text){
    let initialFile = Math.floor(Math.random()*10)
    let result = ""
    let step = Math.floor(Math.random()*10)
    let fileNo = initialFile
    let arr = text.split("")
    let x = 0
    result += step.toString() + initialFile.toString()
    arr.forEach(element => {
        x = 0
        pos.forEach(char =>{
            if(element == char){
                result +=stage1[fileNo][x]
                fileNo += step
                if(fileNo == initialFile){
                    step += 1
                }
                if(fileNo > 9){
                    fileNo -= 9
                }
                if(step == 8){
                    step = 0
                }
            }
            x += 1
        })
    });
    console.log(result)
    return result
}

function decryptStage1(text){
    let arr = text.split("")
    let result = ""
    let initialFile = parseInt(arr[1])
    arr.splice(1, 1)
    let step = parseInt(arr[0])
    arr.splice(0, 1)
    let fileNo = initialFile
    let x = 0
    arr.forEach(element => {
        x = 0
        stage1[fileNo].forEach(char =>{
            if(element == char){
                result += pos[x]
                fileNo += step
                if(fileNo == initialFile){
                    step += 1
                }
                if(fileNo > 9){
                    fileNo -= 9
                }
                if(step == 8){
                    step = 0
                }
            }
            x += 1
        })
    });
    return result
}

function d(){
    document.getElementById("result").innerHTML = decryptStage1(document.getElementById("text").value)
}
function e(){
    document.getElementById("result").innerHTML = encryptStage1(document.getElementById("text").value)
}

